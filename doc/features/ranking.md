# 人気ボケランキング

## 概要

ボケ一覧画面でボケをソート表示する機能。新着、人気（週間）、ランキング（全期間）の3つのタブで切り替え可能。

## 機能詳細

### ソートタブ

| タブ名 | ソート条件 | 説明 |
|--------|-----------|------|
| 新着 | 作成日時降順 | 最新のボケから表示（デフォルト） |
| 人気 | 過去1週間のいいね数降順 | 直近1週間で人気のボケを表示 |
| ランキング | 全期間のいいね数降順 | 累計いいね数が多いボケを表示 |

### 同率の場合

いいね数が同じ場合は、作成日時の新しい順で表示。

## 対象画面

- `/jokes` - ボケ一覧ページ

## API

### エンドポイント

```
GET /api/jokes?sort={sortType}
```

### クエリパラメータ

| パラメータ | 型 | 必須 | 説明 |
|-----------|-----|------|------|
| sort | string | No | `latest`（デフォルト）, `popular`, `ranking` |
| page | int | No | ページ番号 |
| user_id | int | No | 投票状態取得用ユーザーID |

### ソート別の挙動

| sort値 | 説明 |
|--------|------|
| `latest` | priority降順 → created_at降順 |
| `popular` | 過去1週間のvotes数降順 → created_at降順 |
| `ranking` | 全期間のvotes数降順 → created_at降順 |

## UI/UX

### タブデザイン

- MUI Tabsコンポーネントを使用
- 各タブにアイコン付き
  - 新着: Schedule（時計）アイコン
  - 人気: TrendingUp（上昇トレンド）アイコン
  - ランキング: EmojiEvents（トロフィー）アイコン

### 動作

1. タブをクリックするとソートが切り替わる
2. ソート変更時はページ番号が1にリセットされる
3. ローディング中はスピナーを表示

## 実装ファイル

### バックエンド

- `app/Http/Controllers/JokeController.php` - index()メソッドでソート処理

### フロントエンド

- `app/jokes/page.tsx` - ソートタブUIとAPIコール

## 実装日

2026年2月21日
